힌트와 락

힌트란?
jpa 구현체에게 알려주는 hint

주로 read only 에 쓰인다.
간혹가다 다른데 쓰이는거 같다.
ex) namedNativeQuery

flush 를 할때 sql이 나간다.
flush 할때 1차 캐시에서 더티체킹을 한다.

더티체킹이 무조건 좋나?
-> 원본과 수정본이 존재해야하며
   더티체킹을 위한 로직 실행 때문에 비용이 든다.

더티체킹 안하고 진짜 조회용으로만 쓰고 싶을때가 있다.

read only를 한다.
1차캐시에 저장을 하지 않는다.
스냅샷도 찍지 않아서 저장을 하지 않는다.

성능 튜닝을 위해서 다 hint로 튜닝을 해야되나?
성능 최적화는 할대로 해서
성능 테스트를 해보고 하는게 낫다.
거기다 복잡한 쿼리나 잘못된 쿼리를 날릴때 성능에 문제가 있는거라
조회하는 부분에서 hint를 쓴다 해도 많이 되지도 않는다.
애초에 성능이 엄청 낫다고 하면 앞단에 레디스 같은 캐시를 두는게 낫다.



락?
select for update 같은 것
db가 제공하는 락을 사용하게 하는것
책 참고



